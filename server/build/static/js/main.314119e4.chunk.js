(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(t,e,n){t.exports=n(265)},126:function(t,e,n){},129:function(t,e,n){},265:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(14),r=n.n(o),l=n(271),u=n(273),i=(n(126),n(266)),s=n(272),m=(n(129),n(270)),f=n(269),d=n(30),g=n(41),E=n.n(g),p="api/v1",h={get:function(){return E.a.get("".concat(p,"/cats")).then(function(t){return t.data})},install:function(){return E.a.post("".concat(p,"/cats/install"))},getAllOrdered:function(){return E.a.get("".concat(p,"/cats/all/ordered")).then(function(t){return t.data.cats})}},v={post:function(t){return E.a.post("".concat(p,"/vote"),t)}},b=n(267),O=n(268),j=function(){var t=Object(a.useState)(!0),e=Object(d.a)(t,2),n=(e[0],e[1],Object(a.useState)(!1)),o=Object(d.a)(n,2),r=(o[0],o[1]),l=Object(a.useState)({cat1:{id:0,image:0},cat2:{id:0,image:0}}),u=Object(d.a)(l,2),s=u[0],m=u[1],g=function(t,e){var n=s.cat1,a=s.cat2;t.preventDefault(),r(!0),v.post({cat1:{id:n.id,voted:1===e},cat2:{id:a.id,voted:2===e}}).then(function(){return r(!1)}).catch(function(t){return console.log(t)})};return Object(a.useEffect)(function(){r(!0),h.get().then(function(t){m({cat1:{id:t.cat1.ID,image:t.cat1.image},cat2:{id:t.cat2.ID,image:t.cat2.image}}),r(!1)}).catch(function(t){return console.log(t)})},[]),c.a.createElement("div",null,"HomePage",c.a.createElement(b.a,null,c.a.createElement(O.a.Group,{span:12},c.a.createElement(O.a.Button,{value:"1"},c.a.createElement("img",{onClick:function(t){return g(t,1)},alt:"cat1",src:s.cat1.image})),c.a.createElement(O.a.Button,{value:"2"},c.a.createElement("img",{onClick:function(t){return g(t,2)},alt:"cat2",src:s.cat2.image}))),c.a.createElement(f.a,null,"Soumettre")),c.a.createElement(i.a,{to:"/results"},"Resultats"))},w=function(){var t=Object(a.useState)([]),e=Object(d.a)(t,2),n=e[0],o=e[1],r=Object(a.useState)(!1),l=Object(d.a)(r,2),u=l[0],i=l[1];Object(a.useEffect)(function(){i(!0),h.getAllOrdered().then(function(t){i(!1),o(t)}).catch(function(t){return console.log(t)})},[]);return c.a.createElement("div",{loading:u},"ResultPage",c.a.createElement("tr",null,n.map(function(t){return c.a.createElement("ul",null,t.ID,c.a.createElement("br",null),t.rating)})))},k=function(t){var e=t.location;return c.a.createElement(m.a,null,c.a.createElement(f.a,{onClick:function(t){return h.install()}},"Cats"),c.a.createElement(i.a,{to:"/"},"To home"),c.a.createElement(i.a,{to:"/result"},"To result"),c.a.createElement(s.a,null,c.a.createElement(u.a,{location:e,path:"/",exact:!0,component:j}),c.a.createElement(u.a,{location:e,path:"/result",exact:!0,component:w})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(l.a,null,c.a.createElement(u.a,{component:k})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[121,2,1]]]);
//# sourceMappingURL=main.314119e4.chunk.js.map